import{d as C,o as d,c as f,a as t,t as x,n as A,e as S,F as k,r as j,b as l,p as D,f as E,g as N,h as M,i as w,w as O,v as P,j as F,k as V}from"./entry.9bda1a19.mjs";const H=C({__name:"score",props:{score:{default:0},borders:{default:()=>({good:30,amazing:40,god:50})}},setup(s){const a=s;return(_,h)=>(d(),f("div",{class:A(["score",{god:a.score>=a.borders.god,amazing:a.score>=a.borders.amazing,good:a.score>=a.borders.good}])},[t("span",null,x(a.score),1)],2))}}),I=(s,a)=>{const _=s.__vccOpts||s;for(const[h,n]of a)_[h]=n;return _},z=I(H,[["__scopeId","data-v-782fb178"]]),T=s=>(D("data-v-c5f7ff49"),s=s(),E(),s),G=T(()=>t("option",null,null,-1)),K=["value"],R=C({__name:"pick-artifacts",props:{artifact:{}},emits:["input:artifact","change"],setup(s,{emit:a}){const{$dictionary:_,$language:h}=S(),n=r=>{const p=r.target.value,i=_.artifacts.find(y=>y.id===p);console.log(i),a("input:artifact",i),a("change",i)};return(r,p)=>(d(),f("select",{onChange:p[0]||(p[0]=i=>n(i))},[G,(d(!0),f(k,null,j(l(_).artifacts,i=>(d(),f("option",{value:i.id},x(i[l(h).selected]),9,K))),256))],32))}}),U=I(R,[["__scopeId","data-v-c5f7ff49"]]),J={class:"artifact-type"},q={class:"wrapper"},L={class:"text-stroke"},Q={class:"sub-options"},X={class:"wrapper"},Y={class:"text-stroke"},W=["id","onUpdate:modelValue"],Z=["for"],ee=["value","disabled","onInput"],te=C({__name:"artifact-detail",props:{artifact:Object},emits:["change:subop"],setup(s,{emit:a}){const _=s,{$language:h}=S(),n=_.artifact,r=N({img:""}),p=M(null),i=(b,g)=>{const v=b.target;let o=Number(v.value);isNaN(o)&&(o=0),o<0&&(o=Math.abs(o));const e=u=>Math.floor(u*10)/10;g.score=e(o),Number(v.value)!==g.score&&(v.value=`${o}`);const c={cr:2,cd:1,ar:1},m=n.sub.reduce((u,B)=>u+(B.score||0)*(c[B.id]||0),0);n.score=e(m),a("change:subop")},y=b=>{const g={flower:{ja:"\u82B1",en:"Flower"},plume:{ja:"\u7FBD",en:"Plume"},eon:{ja:"\u6642\u8A08",en:"Eon"},goblet:{ja:"\u676F",en:"Goblet"},circlet:{ja:"\u51A0",en:"Circlet"}};return console.log(b),g[b][h.selected]},$=b=>{const g={flower:"flower_of_life",plume:"plume_of_death",eon:"sands_of_eon",goblet:"goblet_of_eonothem",circlet:"circlet_of_logos"};r.img=`https://bbs.hoyolab.com/hoyowiki/picture/reliquary/${b.en}/${g[n.piece]}_icon.png`,p.value.style.backgroundImage=`url('${r.img}')`};return(b,g)=>{const v=z,o=U;return d(),f("div",{ref_key:"elArtifact",ref:p,class:"artifact"},[t("div",J,[t("div",q,[t("h3",L,x(y(l(n).piece)),1),w(v,{score:l(n).score},null,8,["score"])]),w(o,{artifact:l(n),onChange:$},null,8,["artifact"])]),t("div",Q,[(d(!0),f(k,null,j(l(n).sub,e=>(d(),f("div",{class:A(["sub-option",{selected:e.selected}])},[t("div",X,[t("label",Y,[O(t("input",{id:`check-${l(n).piece}-${e.name}`,type:"checkbox","onUpdate:modelValue":c=>e.selected=c},null,8,W),[[P,e.selected]]),t("label",{for:`check-${l(n).piece}-${e.name}`},x(e.name),9,Z)]),t("input",{type:"number",value:e.score,disabled:!e.selected,min:"0",onInput:c=>i(c,e)},null,40,ee)])],2))),256))])],512)}}}),oe=I(te,[["__scopeId","data-v-acc90b46"]]),ae=s=>(D("data-v-5f3732ee"),s=s(),E(),s),se={class:"title-area"},ce=ae(()=>t("option",null,"(\u30AD\u30E3\u30E9\u3092\u9078\u629E)",-1)),ne=["value"],re={style:{position:"fixed",bottom:"0","max-width":"100%"}},le={style:{"text-align":""}},ie={for:"checkCollapse"},ue=C({__name:"index",setup(s){const{$dictionary:a,$language:_}=S(),h="genshin-storage-data",n=[{id:"cr",ja:"\u4F1A\u5FC3\u7387",en:"CRIT Rate"},{id:"cd",ja:"\u4F1A\u5FC3\u30C0\u30E1",en:"CIT DMG"},{id:"em",ja:"\u5143\u7D20\u719F\u77E5",en:"Elemental Mastery",zhCH:"\u5143\u7D20\u7CBE\u901A"},{id:"er",ja:"\u5143\u7D20\u30C1\u30E3\u52B9\u7387",en:"Energy Recharge"},{id:"hp",ja:"HP",en:"HP"},{id:"hpr",ja:"HP%",en:"HP%"},{id:"atk",ja:"\u653B\u6483\u529B",en:"ATK"},{id:"ar",ja:"\u653B\u6483\u529B%",en:"ATK%"},{id:"def",ja:"\u9632\u5FA1\u529B",en:"DEF"},{id:"dr",ja:"\u9632\u5FA1\u529B%",en:"DEF%"}],r=N({img:"",collapse:!1}),p=M(null),i=()=>["flower","plume","eon","goblet","circlet"].reduce((e,c)=>(e[c]={piece:c,level:0,score:0,typeId:"",sub:n.map(m=>({id:m.id,name:m[_.selected],score:null,selected:!1}))},e),{}),y=F("totalScore",()=>0,"$QlxynmAyjX"),$=F("artifacts",()=>{const o=localStorage.getItem(h);return o?JSON.parse(o):i()},"$wVk1PstYeG"),b=()=>{localStorage.setItem(h,JSON.stringify($.value)),g()},g=()=>{const o=Object.values($.value).reduce((e,c)=>e+c.score,0);y.value=Math.floor(o*10)/10},v=o=>{const e=o.target.value,c=a.characters.find(m=>m.id===e);if(c){const m=c.zhCN.split("\xB7")[0];r.img=`https://bbs.hoyolab.com/hoyowiki/picture/character/${m}/avatar.png`,p.value.style.backgroundImage=`url('${r.img}')`}else r.img="",p.value.style.backgroundImage="";console.log(c,r.img)};return g(),(o,e)=>{const c=z,m=oe;return d(),f("div",{ref_key:"elMain",ref:p,class:"main"},[t("div",se,[t("select",{class:"character clear",onChange:e[0]||(e[0]=u=>v(u))},[ce,(d(!0),f(k,null,j(l(a).characters,u=>(d(),f("option",{value:u.id},x(u[l(_).selected]),9,ne))),256))],32),w(c,{score:l(y),borders:{good:140,amazing:170,god:200}},null,8,["score"])]),t("div",re,[t("div",le,[O(t("input",{id:"checkCollapse",type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=u=>r.collapse=u)},null,512),[[P,r.collapse]]),t("label",ie,x(r.collapse?"\u2227":"\u2228"),1)]),t("div",{class:A({collapse:r.collapse}),style:{display:"flex","flex-wrap":"nowrap","overflow-x":"auto"}},[(d(!0),f(k,null,j(Object.keys(l($)),u=>(d(),V(m,{artifact:l($)[u],"onChange:subop":b},null,8,["artifact"]))),256))],2)])],512)}}});const _e=I(ue,[["__scopeId","data-v-5f3732ee"]]);export{_e as default};
