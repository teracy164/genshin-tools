import{d as I,o as u,c as f,a,t as x,n as A,e as S,F as k,r as j,b as l,p as F,f as D,g as N,h as M,i as w,w as z,v as P,j as E,k as T}from"./entry.bef69a7f.mjs";const H=I({__name:"score",props:{score:{default:0},borders:{default:()=>({good:30,amazing:40,god:50})}},setup(s){const o=s;return(d,h)=>(u(),f("div",{class:A(["score",{god:o.score>=o.borders.god,amazing:o.score>=o.borders.amazing,good:o.score>=o.borders.good}])},[a("span",null,x(o.score),1)],2))}}),C=(s,o)=>{const d=s.__vccOpts||s;for(const[h,n]of o)d[h]=n;return d},O=C(H,[["__scopeId","data-v-782fb178"]]),K=s=>(F("data-v-c5f7ff49"),s=s(),D(),s),V=K(()=>a("option",null,null,-1)),R=["value"],q=I({__name:"pick-artifacts",props:{artifact:{}},emits:["input:artifact","change"],setup(s,{emit:o}){const{$dictionary:d,$language:h}=S(),n=r=>{const _=r.target.value,i=d.artifacts.find(y=>y.id===_);console.log(i),o("input:artifact",i),o("change",i)};return(r,_)=>(u(),f("select",{onChange:_[0]||(_[0]=i=>n(i))},[V,(u(!0),f(k,null,j(l(d).artifacts,i=>(u(),f("option",{value:i.id},x(i[l(h).selected]),9,R))),256))],32))}}),G=C(q,[["__scopeId","data-v-c5f7ff49"]]),J={class:"artifact-type"},U={class:"wrapper"},L={class:"text-stroke"},Y={class:"sub-options"},Q={class:"wrapper"},W={class:"text-stroke"},X=["id","onUpdate:modelValue"],Z=["for"],ee=["value","disabled","onInput"],te=I({__name:"artifact-detail",props:{artifact:Object},emits:["change:subop"],setup(s,{emit:o}){const d=s,{$language:h}=S(),n=d.artifact,r=N({img:""}),_=M(null),i=(v,g)=>{const b=v.target;let t=Number(b.value);isNaN(t)&&(t=0),t<0&&(t=Math.abs(t));const e=p=>Math.floor(p*10)/10;g.score=e(t),Number(b.value)!==g.score&&(b.value=`${t}`);const c={cr:2,cd:1,ar:1},m=n.sub.reduce((p,B)=>p+(B.score||0)*(c[B.id]||0),0);n.score=e(m),o("change:subop")},y=v=>{const g={flower:{ja:"\u82B1",en:"Flower"},plume:{ja:"\u7FBD",en:"Plume"},eon:{ja:"\u6642\u8A08",en:"Eon"},goblet:{ja:"\u676F",en:"Goblet"},circlet:{ja:"\u51A0",en:"Circlet"}};return console.log(v),g[v][h.selected]},$=v=>{const g={flower:"flower_of_life",plume:"plume_of_death",eon:"sands_of_eon",goblet:"goblet_of_eonothem",circlet:"circlet_of_logos"};r.img=`https://bbs.hoyolab.com/hoyowiki/picture/reliquary/${v.en}/${g[n.piece]}_icon.png`,_.value.style.backgroundImage=`url('${r.img}')`};return(v,g)=>{const b=O,t=G;return u(),f("div",{ref_key:"elArtifact",ref:_,class:"artifact"},[a("div",J,[a("div",U,[a("h3",L,x(y(l(n).piece)),1),w(b,{score:l(n).score},null,8,["score"])]),w(t,{artifact:l(n),onChange:$},null,8,["artifact"])]),a("div",Y,[(u(!0),f(k,null,j(l(n).sub,e=>(u(),f("div",{class:A(["sub-option",{selected:e.selected}])},[a("div",Q,[a("label",W,[z(a("input",{id:`check-${l(n).piece}-${e.name}`,type:"checkbox","onUpdate:modelValue":c=>e.selected=c},null,8,X),[[P,e.selected]]),a("label",{for:`check-${l(n).piece}-${e.name}`},x(e.name),9,Z)]),a("input",{type:"number",value:e.score,disabled:!e.selected,min:"0",onInput:c=>i(c,e)},null,40,ee)])],2))),256))])],512)}}}),ae=C(te,[["__scopeId","data-v-acc90b46"]]),oe=s=>(F("data-v-edd6fd2f"),s=s(),D(),s),se={class:"title-area"},ce=oe(()=>a("option",null,"(\u30AD\u30E3\u30E9\u3092\u9078\u629E)",-1)),ne=["value"],re={style:{position:"fixed",bottom:"0","max-width":"100%"}},le={style:{display:"flex","justify-content":"end"}},ie=I({__name:"index",setup(s){const{$dictionary:o,$language:d}=S(),h="genshin-storage-data",n=[{id:"cr",ja:"\u4F1A\u5FC3\u7387",en:"CRIT Rate"},{id:"cd",ja:"\u4F1A\u5FC3\u30C0\u30E1",en:"CIT DMG"},{id:"em",ja:"\u5143\u7D20\u719F\u77E5",en:"Elemental Mastery",zhCH:"\u5143\u7D20\u7CBE\u901A"},{id:"er",ja:"\u5143\u7D20\u30C1\u30E3\u52B9\u7387",en:"Energy Recharge"},{id:"hp",ja:"HP",en:"HP"},{id:"hpr",ja:"HP%",en:"HP%"},{id:"atk",ja:"\u653B\u6483\u529B",en:"ATK"},{id:"ar",ja:"\u653B\u6483\u529B%",en:"ATK%"},{id:"def",ja:"\u9632\u5FA1\u529B",en:"DEF"},{id:"dr",ja:"\u9632\u5FA1\u529B%",en:"DEF%"}],r=N({img:"",collapse:!1}),_=M(null),i=()=>["flower","plume","eon","goblet","circlet"].reduce((e,c)=>(e[c]={piece:c,level:0,score:0,typeId:"",sub:n.map(m=>({id:m.id,name:m[d.selected],score:null,selected:!1}))},e),{}),y=E("totalScore",()=>0,"$o4lN2SkEKq"),$=E("artifacts",()=>{const t=localStorage.getItem(h);return t?JSON.parse(t):i()},"$Mm0dnabaTY"),v=()=>{localStorage.setItem(h,JSON.stringify($.value)),g()},g=()=>{const t=Object.values($.value).reduce((e,c)=>e+c.score,0);y.value=Math.floor(t*10)/10},b=t=>{const e=t.target.value,c=o.characters.find(m=>m.id===e);if(c){const m=c.zhCN.split("\xB7")[0];r.img=`https://bbs.hoyolab.com/hoyowiki/picture/character/${m}/avatar.png`,_.value.style.backgroundImage=`url('${r.img}')`}else r.img="",_.value.style.backgroundImage="";console.log(c,r.img)};return g(),(t,e)=>{const c=O,m=ae;return u(),f("div",{ref_key:"elMain",ref:_,class:"main"},[a("div",se,[a("select",{class:"character clear",onChange:e[0]||(e[0]=p=>b(p))},[ce,(u(!0),f(k,null,j(l(o).characters,p=>(u(),f("option",{value:p.id},x(p[l(d).selected]),9,ne))),256))],32),w(c,{score:l(y),borders:{good:140,amazing:170,god:200}},null,8,["score"])]),a("div",re,[a("div",le,[a("a",{class:"material-icons expand",onClick:e[1]||(e[1]=p=>r.collapse=!r.collapse)},x(r.collapse?"expand_less":"expand_more"),1)]),a("div",{class:A({collapse:r.collapse}),style:{display:"flex","flex-wrap":"nowrap","overflow-x":"auto"}},[(u(!0),f(k,null,j(Object.keys(l($)),p=>(u(),T(m,{artifact:l($)[p],"onChange:subop":v},null,8,["artifact"]))),256))],2)])],512)}}});const de=C(ie,[["__scopeId","data-v-edd6fd2f"]]);export{de as default};
