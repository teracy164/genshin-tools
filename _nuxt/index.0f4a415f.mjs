import{d as I,o as u,c as p,a,t as x,n as A,_ as C,e as S,F as k,r as j,b as l,p as F,f as D,g as N,h as M,i as w,w as z,v as P,j as E,k as T}from"./entry.2673bd92.mjs";const H=I({__name:"score",props:{score:{default:0},borders:{default:()=>({good:30,amazing:40,god:50})}},setup(n){const o=n;return(h,b)=>(u(),p("div",{class:A(["score",{god:o.score>=o.borders.god,amazing:o.score>=o.borders.amazing,good:o.score>=o.borders.good}])},[a("span",null,x(o.score),1)],2))}}),O=C(H,[["__scopeId","data-v-782fb178"]]),R=n=>(F("data-v-c5f7ff49"),n=n(),D(),n),V=R(()=>a("option",null,null,-1)),G=["value"],K=I({__name:"pick-artifacts",props:{artifact:{}},emits:["input:artifact","change"],setup(n,{emit:o}){const{$dictionary:h,$language:b}=S(),r=c=>{const d=c.target.value,i=h.artifacts.find(y=>y.id===d);console.log(i),o("input:artifact",i),o("change",i)};return(c,d)=>(u(),p("select",{onChange:d[0]||(d[0]=i=>r(i))},[V,(u(!0),p(k,null,j(l(h).artifacts,i=>(u(),p("option",{value:i.id},x(i[l(b).selected]),9,G))),256))],32))}}),L=C(K,[["__scopeId","data-v-c5f7ff49"]]),J={class:"artifact-type"},U={class:"wrapper"},q={class:"text-stroke"},Q={class:"sub-options"},W={class:"wrapper"},X={class:"text-stroke"},Y=["id","onUpdate:modelValue"],Z=["for"],ee=["value","disabled","onInput"],te=I({__name:"artifact-detail",props:{artifact:Object},emits:["change:subop"],setup(n,{emit:o}){const h=n,{$language:b}=S(),r=h.artifact,c=N({img:""}),d=M(null),i=(m,f)=>{const v=m.target;let t=Number(v.value);isNaN(t)&&(t=0),t<0&&(t=Math.abs(t));const e=_=>Math.floor(_*10)/10;f.score=e(t),Number(v.value)!==f.score&&(v.value=`${t}`);const s={cr:2,cd:1,ar:1},g=r.sub.reduce((_,B)=>_+(B.score||0)*(s[B.id]||0),0);r.score=e(g),o("change:subop")},y=m=>{const f={flower:{ja:"\u82B1",en:"Flower"},plume:{ja:"\u7FBD",en:"Plume"},eon:{ja:"\u6642\u8A08",en:"Eon"},goblet:{ja:"\u676F",en:"Goblet"},circlet:{ja:"\u51A0",en:"Circlet"}};return console.log(m),f[m][b.selected]},$=m=>{const f={flower:"flower_of_life",plume:"plume_of_death",eon:"sands_of_eon",goblet:"goblet_of_eonothem",circlet:"circlet_of_logos"};c.img=`https://bbs.hoyolab.com/hoyowiki/picture/reliquary/${m.en}/${f[r.piece]}_icon.png`,d.value.style.backgroundImage=`url('${c.img}')`};return(m,f)=>{const v=O,t=L;return u(),p("div",{ref_key:"elArtifact",ref:d,class:"artifact"},[a("div",J,[a("div",U,[a("h3",q,x(y(l(r).piece)),1),w(v,{score:l(r).score},null,8,["score"])]),w(t,{artifact:l(r),onChange:$},null,8,["artifact"])]),a("div",Q,[(u(!0),p(k,null,j(l(r).sub,e=>(u(),p("div",{class:A(["sub-option",{selected:e.selected}])},[a("div",W,[a("label",X,[z(a("input",{id:`check-${l(r).piece}-${e.name}`,type:"checkbox","onUpdate:modelValue":s=>e.selected=s},null,8,Y),[[P,e.selected]]),a("label",{for:`check-${l(r).piece}-${e.name}`},x(e.name),9,Z)]),a("input",{type:"number",value:e.score,disabled:!e.selected,min:"0",onInput:s=>i(s,e)},null,40,ee)])],2))),256))])],512)}}}),ae=C(te,[["__scopeId","data-v-acc90b46"]]),se=n=>(F("data-v-ab526ce5"),n=n(),D(),n),oe={class:"title-area"},ce=se(()=>a("option",null,"(\u30AD\u30E3\u30E9\u3092\u9078\u629E)",-1)),ne=["value"],re={style:{position:"fixed",left:"0",bottom:"0","max-width":"100vw"}},le={style:{display:"flex","justify-content":"start"}},ie=I({__name:"index",setup(n){const{$dictionary:o,$language:h}=S(),b="genshin-storage-data",r=[{id:"cr",ja:"\u4F1A\u5FC3\u7387",en:"CRIT Rate"},{id:"cd",ja:"\u4F1A\u5FC3\u30C0\u30E1",en:"CIT DMG"},{id:"em",ja:"\u5143\u7D20\u719F\u77E5",en:"Elemental Mastery",zhCH:"\u5143\u7D20\u7CBE\u901A"},{id:"er",ja:"\u5143\u7D20\u30C1\u30E3\u52B9\u7387",en:"Energy Recharge"},{id:"hp",ja:"HP",en:"HP"},{id:"hpr",ja:"HP%",en:"HP%"},{id:"atk",ja:"\u653B\u6483\u529B",en:"ATK"},{id:"ar",ja:"\u653B\u6483\u529B%",en:"ATK%"},{id:"def",ja:"\u9632\u5FA1\u529B",en:"DEF"},{id:"dr",ja:"\u9632\u5FA1\u529B%",en:"DEF%"}],c=N({img:"",collapse:!1}),d=M(null),i=()=>["flower","plume","eon","goblet","circlet"].reduce((e,s)=>(e[s]={piece:s,level:0,score:0,typeId:"",sub:r.map(g=>({id:g.id,name:g[h.selected],score:null,selected:!1}))},e),{}),y=E("totalScore",()=>0,"$2TLtOa0t86"),$=E("artifacts",()=>{const t=localStorage.getItem(b);return t?JSON.parse(t):i()},"$BSGERlL6pd"),m=()=>{localStorage.setItem(b,JSON.stringify($.value)),f()},f=()=>{const t=Object.values($.value).reduce((e,s)=>e+s.score,0);y.value=Math.floor(t*10)/10},v=t=>{const e=t.target.value,s=o.characters.find(g=>g.id===e);if(s){const g=s.zhCN.split("\xB7")[0];c.img=`https://bbs.hoyolab.com/hoyowiki/picture/character/${g}/avatar.png`,d.value.style.backgroundImage=`url('${c.img}')`}else c.img="",d.value.style.backgroundImage="";console.log(s,c.img)};return f(),(t,e)=>{const s=O,g=ae;return u(),p("div",{ref_key:"elMain",ref:d,class:"main"},[a("div",oe,[a("select",{class:"character clear",onChange:e[0]||(e[0]=_=>v(_))},[ce,(u(!0),p(k,null,j(l(o).characters,_=>(u(),p("option",{value:_.id},x(_[l(h).selected]),9,ne))),256))],32),w(s,{score:l(y),borders:{good:140,amazing:170,god:200}},null,8,["score"])]),a("div",re,[a("div",le,[a("a",{class:"material-icons expand",onClick:e[1]||(e[1]=_=>c.collapse=!c.collapse)},x(c.collapse?"expand_less":"expand_more"),1)]),a("div",{class:A({collapse:c.collapse}),style:{display:"flex","flex-wrap":"nowrap","overflow-x":"auto"}},[(u(!0),p(k,null,j(Object.keys(l($)),_=>(u(),T(g,{artifact:l($)[_],"onChange:subop":m},null,8,["artifact"]))),256))],2)])],512)}}});const de=C(ie,[["__scopeId","data-v-ab526ce5"]]);export{de as default};
