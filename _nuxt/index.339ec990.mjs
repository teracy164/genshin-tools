import{d as C,e as j,o as _,c as f,a as c,t as v,b as s,n as b,F as y,r as A,w as $,v as D,f as B,g as E,h as I,p as N,i as k}from"./entry.0a9abef5.mjs";const w={class:"artifact"},M={class:"artifact-type"},O={class:"sub-options"},z=["id","onUpdate:modelValue"],H=["for"],P=["value","disabled","onInput"],T=C({__name:"artifact-detail",props:{artifact:Object},emits:["change:subop"],setup(n,{emit:g}){const u=n,{$language:m}=j(),a=u.artifact,l=(d,i)=>{const e=d.target;let t=Number(e.value);isNaN(t)&&(t=0),t<0&&(t=Math.abs(t));const o=h=>Math.floor(h*10)/10;i.score=o(t),Number(e.value)!==i.score&&(e.value=`${t}`);const p={cr:2,cd:1,ar:1},S=a.sub.reduce((h,F)=>h+(F.score||0)*(p[F.id]||0),0);a.score=o(S),g("change:subop")},r=d=>({flower:{ja:"\u82B1",en:"Flower"},plume:{ja:"\u7FBD",en:"Plume"},eon:{ja:"\u6642\u8A08",en:"Eon"},goblet:{ja:"\u676F",en:"Goblet"},circlet:{ja:"\u51A0",en:"Circlet"}})[d][m.selected];return(d,i)=>(_(),f("div",w,[c("div",M,[c("h3",null,v(r(s(a).piece)),1),c("span",{class:b(["score",{good:s(a).score>=30,amazing:s(a).score>=40,god:s(a).score>=50}])},v(s(a).score),3)]),c("div",O,[(_(!0),f(y,null,A(s(a).sub,e=>(_(),f("div",{class:b(["sub-option",{selected:e.selected}])},[c("label",null,[$(c("input",{id:`check-${s(a).piece}-${e.name}`,type:"checkbox","onUpdate:modelValue":t=>e.selected=t},null,8,z),[[D,e.selected]]),c("label",{for:`check-${s(a).piece}-${e.name}`},v(e.name),9,H)]),c("input",{type:"number",value:e.score,disabled:!e.selected,min:"0",onInput:t=>l(t,e)},null,40,P)],2))),256))])]))}}),x=(n,g)=>{const u=n.__vccOpts||n;for(const[m,a]of g)u[m]=a;return u},V=x(T,[["__scopeId","data-v-31a09f6f"]]),K=n=>(N("data-v-1d2946e4"),n=n(),k(),n),R={class:"title-area"},U=K(()=>c("h2",null,"\u8056\u907A\u7269\u30B9\u30B3\u30A2\u8A08\u7B97\u30C4\u30FC\u30EB",-1)),G=E('<div style="display:flex;align-items:center;flex-wrap:wrap;" data-v-1d2946e4><p style="margin:0;" data-v-1d2946e4>\u7B97\u51FA\u65B9\u6CD5: \u4F1A\u5FC3\u7387 x 2 + \u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8 + \u653B\u6483\u529B%</p><span class="score" data-v-1d2946e4>30 &gt; \u5F31</span><span class="score good" data-v-1d2946e4>30 &lt;= \u826F</span><span class="score amazing" data-v-1d2946e4>40 &lt;= \u5F37</span><span class="score god" data-v-1d2946e4>50 &lt;= \u795E</span></div>',1),J={style:{display:"flex","flex-wrap":"wrap"}},L=C({__name:"index",setup(n){const{$language:g}=j(),u="genshin-storage-data",m=[{id:"cr",ja:"\u4F1A\u5FC3\u7387",en:"CRIT Rate"},{id:"cd",ja:"\u4F1A\u5FC3\u30C0\u30E1",en:"CIT DMG"},{id:"em",ja:"\u5143\u7D20\u719F\u77E5",en:"Elemental Mastery",zhCH:"\u5143\u7D20\u7CBE\u901A"},{id:"er",ja:"\u5143\u7D20\u30C1\u30E3\u52B9\u7387",en:"Energy Recharge"},{id:"hp",ja:"HP",en:"HP"},{id:"hpr",ja:"HP%",en:"HP%"},{id:"atk",ja:"\u653B\u6483\u529B",en:"ATK"},{id:"ar",ja:"\u653B\u6483\u529B%",en:"ATK%"},{id:"def",ja:"\u9632\u5FA1\u529B",en:"DEF"},{id:"dr",ja:"\u9632\u5FA1\u529B%",en:"DEF%"}],a=()=>["flower","plume","eon","goblet","circlet"].reduce((t,o)=>(t[o]={piece:o,level:0,score:0,typeId:"",sub:m.map(p=>({id:p.id,name:p[g.selected],score:null,selected:!1}))},t),{}),l=B("totalScore",()=>0,"$McHllvjSUM"),r=B("artifacts",()=>{const e=localStorage.getItem(u);return e?JSON.parse(e):a()},"$YnAczl4g5N"),d=()=>{localStorage.setItem(u,JSON.stringify(r.value)),i()},i=()=>{const e=Object.values(r.value).reduce((t,o)=>t+o.score,0);l.value=Math.floor(e*10)/10};return(e,t)=>{const o=V;return _(),f("div",null,[c("div",R,[U,c("span",{class:b(["score",{good:s(l)>=150,amazing:s(l)>=190,god:s(l)>=225}])},v(s(l)),3)]),G,c("div",J,[(_(!0),f(y,null,A(Object.keys(s(r)),p=>(_(),I(o,{artifact:s(r)[p],"onChange:subop":d},null,8,["artifact"]))),256))])])}}});const q=x(L,[["__scopeId","data-v-1d2946e4"]]);export{q as default};
