import{d as y,e as C,o as p,c as b,a as c,t as f,b as s,n as h,F as j,r as x,w as E,v as S,f as B,g as D,h as $,p as w,i as k}from"./entry.926b4e4d.mjs";const N={class:"artifact"},O={class:"artifact-type"},M={class:"sub-options"},P=["id","onUpdate:modelValue"],T=["for"],z=["value","disabled","onInput"],H=y({__name:"artifact-detail",props:{artifact:Object},emits:["change:subop"],setup(o,{emit:_}){const u=o,{$language:l}=C(),t=u.artifact,r=(i,d)=>{const e=i.target;let a=Number(e.value);isNaN(a)&&(a=0),a<0&&(a=Math.abs(a));const n=m=>Math.floor(m*10)/10;d.score=n(a),Number(e.value)!==d.score&&(e.value=`${a}`);const v={cr:2,cd:1,ar:1},I=t.sub.reduce((m,F)=>m+(F.score||0)*(v[F.id]||0),0);t.score=n(I),_("change:subop")},g=i=>({flower:{ja:"\u82B1",en:"Flower"},plume:{ja:"\u7FBD",en:"Plume"},eon:{ja:"\u6642\u8A08",en:"Eon"},goblet:{ja:"\u676F",en:"Goblet"},circlet:{ja:"\u51A0",en:"Circlet"}})[i][l.selected];return(i,d)=>(p(),b("div",N,[c("div",O,[c("h3",null,f(g(s(t).piece)),1),c("span",{class:h(["score",{good:s(t).score>=30,amazing:s(t).score>=40,god:s(t).score>=50}])},f(s(t).score),3)]),c("div",M,[(p(!0),b(j,null,x(s(t).sub,e=>(p(),b("div",{class:h(["sub-option",{selected:e.selected}])},[c("label",null,[E(c("input",{id:`check-${s(t).piece}-${e.name}`,type:"checkbox","onUpdate:modelValue":a=>e.selected=a},null,8,P),[[S,e.selected]]),c("label",{for:`check-${s(t).piece}-${e.name}`},f(e.name),9,T)]),c("input",{type:"number",value:e.score,disabled:!e.selected,min:"0",onInput:a=>r(a,e)},null,40,z)],2))),256))])]))}}),A=(o,_)=>{const u=o.__vccOpts||o;for(const[l,t]of _)u[l]=t;return u},R=A(H,[["__scopeId","data-v-31a09f6f"]]),U=o=>(w("data-v-b6c2196e"),o=o(),k(),o),V={class:"title-area"},K=U(()=>c("h2",null,"\u8056\u907A\u7269\u30B9\u30B3\u30A2\u8A08\u7B97\u30C4\u30FC\u30EB",-1)),G=D('<div style="display:flex;align-items:center;flex-wrap:wrap;" data-v-b6c2196e><p style="margin:0;" data-v-b6c2196e>\u7B97\u51FA\u65B9\u6CD5: \u4F1A\u5FC3\u7387 x 2 + \u4F1A\u5FC3\u30C0\u30E1\u30FC\u30B8 + \u653B\u6483\u529B%</p><span class="score" data-v-b6c2196e>30 &gt; \u5F31</span><span class="score good" data-v-b6c2196e>30 &lt;= \u826F</span><span class="score amazing" data-v-b6c2196e>40 &lt;= \u5F37</span><span class="score god" data-v-b6c2196e>50 &lt;= \u795E</span></div>',1),J={style:{display:"flex","flex-wrap":"wrap"}},L=y({__name:"index",setup(o){const{$language:_}=C(),u=[{id:"cr",ja:"\u4F1A\u5FC3\u7387",en:"CRIT Rate"},{id:"cd",ja:"\u4F1A\u5FC3\u30C0\u30E1",en:"CIT DMG"},{id:"em",ja:"\u5143\u7D20\u719F\u77E5",en:"Elemental Mastery",zhCH:"\u5143\u7D20\u7CBE\u901A"},{id:"er",ja:"\u5143\u7D20\u30C1\u30E3\u52B9\u7387",en:"Energy Recharge"},{id:"hp",ja:"HP",en:"HP"},{id:"hpr",ja:"HP%",en:"HP%"},{id:"atk",ja:"\u653B\u6483\u529B",en:"ATK"},{id:"ar",ja:"\u653B\u6483\u529B%",en:"ATK%"},{id:"def",ja:"\u9632\u5FA1\u529B",en:"DEF"},{id:"dr",ja:"\u9632\u5FA1\u529B%",en:"DEF%"}],l="genshin-storage-data",t=B("totalScore",()=>0,"$aOaignsxWl");let r=B("artifacts",()=>{const e=localStorage.getItem(l);return e?JSON.parse(e):g()},"$UURd0TtS5D");const g=()=>{const e={flower:{piece:"flower",typeId:"",level:0,score:0,sub:[]},plume:{piece:"plume",typeId:"",level:0,score:0,sub:[]},eon:{piece:"eon",typeId:"",level:0,score:0,sub:[]},goblet:{piece:"goblet",typeId:"",level:0,score:0,sub:[]},circlet:{piece:"circlet",typeId:"",level:0,score:0,sub:[]}};return Object.values(e).forEach(a=>{u.forEach(n=>a.sub.push({id:n.id,name:n[_.selected],score:null,selected:!1}))}),e},i=()=>{localStorage.setItem(l,JSON.stringify(r.value)),d()},d=()=>{const e=Object.values(r.value).reduce((a,n)=>a+n.score,0);t.value=Math.floor(e*10)/10};return(e,a)=>{const n=R;return p(),b("div",null,[c("div",V,[K,c("span",{class:h(["score",{good:s(t)>=150,amazing:s(t)>=190,god:s(t)>=225}])},f(s(t)),3)]),G,c("div",J,[(p(!0),b(j,null,x(Object.keys(s(r)),v=>(p(),$(n,{artifact:s(r)[v],"onChange:subop":i},null,8,["artifact"]))),256))])])}}});const q=A(L,[["__scopeId","data-v-b6c2196e"]]);export{q as default};
